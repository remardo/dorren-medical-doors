@echo off
echo üîç –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ —Å–µ—Ä–≤–µ—Ä–∞ –º–µ–¥–∏—Ü–∏–Ω—Å–∫–∏—Ö –¥–≤–µ—Ä–µ–π
echo =========================================

set SERVER_IP=89.23.98.187

echo.
echo üìã –®–∞–≥ 1: –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ —Å–µ—Ä–≤–µ—Ä–∞
echo –ü–∏–Ω–≥ —Å–µ—Ä–≤–µ—Ä–∞: %SERVER_IP%
ping -n 3 %SERVER_IP% >nul 2>&1
if errorlevel 1 (
    echo ‚ùå –°–µ—Ä–≤–µ—Ä –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω
) else (
    echo ‚úÖ –°–µ—Ä–≤–µ—Ä –¥–æ—Å—Ç—É–ø–µ–Ω
)

echo.
echo üåê –®–∞–≥ 2: –ü—Ä–æ–≤–µ—Ä–∫–∞ HTTP –æ—Ç–≤–µ—Ç–∞
echo –ü—Ä–æ–≤–µ—Ä–∫–∞ HTTP: http://%SERVER_IP%
curl -I http://%SERVER_IP% 2>nul | findstr "HTTP" || echo "‚ùå HTTP –ø–æ—Ä—Ç –Ω–µ –æ—Ç–≤–µ—á–∞–µ—Ç"

echo.
echo üìÅ –®–∞–≥ 3: –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ñ–∞–π–ª–æ–≤ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ
echo –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ —Å–µ—Ä–≤–µ—Ä—É –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ —Ñ–∞–π–ª–æ–≤...
ssh -o StrictHostKeyChecking=no root@%SERVER_IP% "ls -la /var/www/medical-doors/dist/" 2>nul || echo "‚ùå –ù–µ —É–¥–∞–ª–æ—Å—å –ø–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è –∏–ª–∏ –ø–∞–ø–∫–∞ –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç"

echo.
echo ‚öôÔ∏è –®–∞–≥ 4: –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞ Nginx
ssh -o StrictHostKeyChecking=no root@%SERVER_IP% "systemctl status nginx --no-pager" 2>nul | findstr "Active:" || echo "‚ùå Nginx –Ω–µ –∑–∞–ø—É—â–µ–Ω –∏–ª–∏ –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω"

echo.
echo üìä –®–∞–≥ 5: –ü—Ä–æ–≤–µ—Ä–∫–∞ –ª–æ–≥–æ–≤ Nginx
echo –ü–æ—Å–ª–µ–¥–Ω–∏–µ –∑–∞–ø–∏—Å–∏ –≤ –ª–æ–≥–∞—Ö –æ—à–∏–±–æ–∫:
ssh -o StrictHostKeyChecking=no root@%SERVER_IP% "tail -5 /var/log/nginx/medical-doors_error.log 2>/dev/null || tail -5 /var/log/nginx/error.log 2>/dev/null || echo '–õ–æ–≥–∏ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω—ã'" 2>nul

echo.
echo üîß –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏:
echo ================
echo.
echo 1. –ï—Å–ª–∏ —Å–µ—Ä–≤–µ—Ä –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω:
echo    - –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç—É
echo    - –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–∞–≤–∏–ª—å–Ω–æ—Å—Ç—å IP –∞–¥—Ä–µ—Å–∞
echo    - –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ VPS —Å–µ—Ä–≤–µ—Ä –∑–∞–ø—É—â–µ–Ω
echo.
echo 2. –ï—Å–ª–∏ HTTP –ø–æ—Ä—Ç –Ω–µ –æ—Ç–≤–µ—á–∞–µ—Ç:
echo    - –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ nginx —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –∏ –∑–∞–ø—É—â–µ–Ω
echo    - –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ firewall
echo.
echo 3. –ï—Å–ª–∏ —Ñ–∞–π–ª—ã –Ω–µ –Ω–∞–π–¥–µ–Ω—ã –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ:
echo    - –°–Ω–∞—á–∞–ª–∞ —Å–æ–±–µ—Ä–∏—Ç–µ –ø—Ä–æ–µ–∫—Ç –ª–æ–∫–∞–ª—å–Ω–æ
echo    - –ó–∞—Ç–µ–º –∑–∞–≥—Ä—É–∑–∏—Ç–µ —Ñ–∞–π–ª—ã –Ω–∞ —Å–µ—Ä–≤–µ—Ä
echo.
echo 4. –î–ª—è –ø–æ–ª–Ω–æ–π –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —Å–µ—Ä–≤–µ—Ä–∞ –≤—ã–ø–æ–ª–Ω–∏—Ç–µ:
echo    curl -s https://raw.githubusercontent.com/.../server-setup.sh ^| ssh root@%SERVER_IP% "bash"
echo.
echo üìû –ï—Å–ª–∏ –ø—Ä–æ–±–ª–µ–º—ã –ø—Ä–æ–¥–æ–ª–∂–∞—é—Ç—Å—è, –ø—Ä–æ–≤–µ—Ä—å—Ç–µ:
echo    - –°—Ç–∞—Ç—É—Å VPS —Å–µ—Ä–≤–µ—Ä–∞ —É –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞
echo    - –ù–∞—Å—Ç—Ä–æ–π–∫–∏ firewall –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ
echo    - –î–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å –ø–æ—Ä—Ç–∞ 80

pause